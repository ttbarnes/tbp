/*
	* Portrolio 1.1.2
	* A responsive portfolio layout with vertical overlay, dynamic height calculation, tooltips, colour schemes and more!
	* URL to go here
	*
	* Author: Tony Barnes
	* http://tonybarnes.me
	* No license or copyright - do what you like
	*
	* Last updated: 29/07/2013
	* Reqruiments: 
	* 1: jQuery 2.0 (http://jquery.com/download/)
	* 2: Media.match (https://github.com/weblinc/media-match)
	* 3: Inview (http://github.com/protonet/jquery.inview)
	*
*/
(function(b){var a={init:function(c){var d=b.extend({columnsNo:3,columnsDiy:false,activeHoverStates:{dim:true,dimOnly:false,toolTip:true,toolTipSlide:true,popup:true},pageSelectors:{header:"div.header",footer:"div.footer"},colorScheme:{black:true}},c);return this.each(function(){var m=b(this).children("div.portrolioInnerWrapper");var j=m.children("div.item");var h=j.children("img")[0];var p=b("img").height();var o=[3,6];var f=d.columnsNo;i=o;if(d.columnsDiy==false){var k=d.columnsNo;if(d.columsNoResult==o[i]){if(d.columnsNo==3){m.addClass("col3")}else{if(d.columnsNo==6){m.addClass("col6")}else{console.log("error - please enter 3 or 6 columns");m.hide()}}}else{console.log("error - please enter 3 or 6 columns");m.hide()}}function n(){if(d.activeHoverStates.dim==true||d.activeHoverStates.dimOnly==true){m.addClass("dimActive")}}function g(){b(j).bind({mouseenter:function(x){j.addClass("active");var w=b(this);b(w).addClass("hovered")},mouseout:function(w){j.removeClass("active");b(this).removeClass("hovered")}})}function v(){m.addClass("ttipTitleActive");ttipSetting001=d.activeHoverStates.toolTip==true;ttipSetting002=d.activeHoverStates.toolTip==false;ttipSetting003=d.activeHoverStates.toolTipSlide==true;ttipSetting004=d.activeHoverStates.toolTipSlide==false;switch(true){case ttipSetting003:b(j).bind({mouseenter:function w(z){var y=b(this);if(b(y).find("span.title").length>0){var x=b('<div class="toolTip toolTipSlideIn"><span class="bg"/></div>').appendTo(this);b("div.toolTip").show().animate({bottom:"0"},40);b(y).children("span.title").appendTo("div.toolTip")}},mouseleave:function(x){j.removeClass("active");b(this).removeClass("hovered");b("div.toolTip span.title").appendTo(this);b("div.toolTip").remove();b(this).removeClass("hovered");b("div.toolTip").animate({bottom:"-25px"}).hide()}});break;case ttipSetting001:case ttipSetting004:b(j).bind({mouseenter:function w(z){var y=b(this);if(b(y).find("span.title").length>0){var x=b('<div class="toolTip"><span class="bg"/></div>').appendTo(this);b("div.toolTip").show();b(y).children("span.title").appendTo("div.toolTip")}},mouseleave:function(x){j.removeClass("active");b(this).removeClass("hovered");b("div.toolTip span.title").appendTo(this);b("div.toolTip").remove();b(this).removeClass("hovered");b("div.toolTip").hide()}});break}}function q(){popupSetting001=d.activeHoverStates.popup==true;switch(true){case popupSetting001:b(j).bind({mousedown:function w(D){var C=b('<div id="portrolioPopup"/>').appendTo(m);var y=b('<div class="overlayLarge"/>').appendTo(C);var A=b(this);$somethingOrRather78020981230=A.find("img");b($somethingOrRather78020981230).clone().appendTo(C);var z=C.find("img");z.wrap('<div class="imgWrapper"/>');y.fadeIn(600);C.fadeIn(600);var B=b(y);b(B).bind({mousedown:function x(E){C.fadeOut(400)}})}})}}var u=function u(){var w=b('<div class="overlaySmall overlaySmallTop"/>',{id:"portrolioOverlayTop"}).insertBefore(m.children(":eq(0)"));var x=b('<div class="overlaySmall overlaySmallBtm"/>',{id:"portrolioOverlayBtm"}).appendTo(m)};function t(){var w=b("div.overlaySmallTop");var z=b("div.overlaySmallBtm");var y=d.pageSelectors.header;var x=d.pageSelectors.footer;var A=b(m).find("div.item:last");var B=b(m).find("div.item:eq(2)");A.addClass("last");b(y).bind("inview",function(C,D){if(D){b(w).css({position:"absolute",top:"0"});b(z).css({display:"none"})}else{b(w).css({position:"fixed",top:"0"});b(z).css({display:"block",position:"fixed",bottom:"0"})}});b(B).bind("inview",function(C,D){if(D){b(z).css({position:"fixed",bottom:"0"})}});b(A).bind("inview",function(C,D){if(D){b(z).css({position:"absolute",bottom:"0"})}else{b(z).css({position:"fixed",bottom:"0"})}});b(x).bind("inview",function(C,D){if(D){b(w).css({position:"absolute",top:"0"})}else{b(w).css({position:"fixed",top:"0"})}})}if(d.colorScheme=="lightBlue"){m.addClass("clrSchemeLightBlue")}else{if(d.colorScheme=="darkBlue"){m.addClass("clrSchemeDarkBlue")}else{if(d.colorScheme=="black"){m.addClass("clrSchemeBlack")}else{if(d.colorScheme=="white"){m.addClass("clrSchemeWhite")}else{if(d.colorScheme=="grey"){m.addClass("clrSchemeGrey")}else{if(d.colorScheme=="none"){m.addClass("clrSchemeNone")}else{m.addClass("clrSchemeBlack")}}}}}}function s(){var B=b(window).height();var w=b("div.overlaySmall");var x=b("img");if((d.columnsNo==2)||(d.columnsNo==3)){var A=B*0.333;b("div.overlaySmall").css({height:A,"max-height":A});b("div.item img").css({height:A,"max-height":A})}else{if(d.columnsNo==6){var z=B*0.161;var y=z*2;b("div.overlaySmall").css({height:y,"max-height":y});b("div.item img").css({height:y,"max-height":y})}}}function e(){var w=b("div.overlaySmall");var x=b("img");w.remove();x.css({height:"auto","max-height":"none"})}function r(){var z=window.matchMedia("screen and (min-width: 768px)");var y=window.matchMedia("screen and (max-width: 768px)");var x=window.matchMedia("screen and (min-width: 480px)");var w=window.matchMedia("screen and (max-width: 480px)");if(z.matches){e();g();n();var A=d.activeHoverStates.toolTip;if(A!=false){v();q()}}if(y.matches){m.removeClass("dimActive");m.removeClass("ttipTitleActive");b("#portrolioPopup").remove()}if(w.matches){m.removeClass("ttipTitleActive");b("#portrolioPopup").remove();j.hide().fadeIn(300);u();s();t()}}r();var l=(function(){var w=0;return function(y,x){clearTimeout(w);w=setTimeout(y,x)}})();b(window).resize(function(){l(function(){function w(){var z=window.matchMedia("screen and (min-width: 768px)");var y=window.matchMedia("screen and (min-width: 480px)");var x=window.matchMedia("screen and (max-width: 480px)");if(z.matches){b(j).bind("mouseenter");g();n();var A=d.activeHoverStates.toolTip;if(A!=false){v()}q()}if(y.matches){b("div.toolTip").remove();e()}if(x.matches){b(j).unbind("mouseenter").hide().fadeIn(300);b(j).unbind("mousedown");b("#portrolioPopup").remove();u();s();t()}}w()},500)})})}};b.fn.Portrolio=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Portrolio Error! Something has gone wrong. Please see the original codebase, or contact the author")}}};return this})(jQuery);